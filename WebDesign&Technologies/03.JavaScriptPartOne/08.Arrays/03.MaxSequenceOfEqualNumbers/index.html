
<script>

    /* Write a script that finds the maximal sequence of equal elements in an array.
        Example: {2, 1, 1, 2, 3, 3, 2, 2, 2, 1} -> {2, 2, 2}.
    */

    // Click Ctrl + F5 to see the result in browser


    var array = [2, 1, 1, 2, 3, 3, 2, 2, 2, 1]; // 2 2 2
    //var array = [ 2 ]; // -> {2}
    //var array = [ 2, 2 ]; // -> {2, 2}
    //var array = [ 2, 2, 1, 1, 1, 3, 5 ]; // -> {1, 1, 1}

    var currentSequence = 1; // counts the sequence of equal elements
    var maxSequence = currentSequence; // holds the value of maximal sequence of equal elements
    var lastElementOfMaxSeq = 0;  // holds the value of the elements which has maximal sequence

    for (var i = 0; i < array.length - 1; i++) {
        // if neighbour elements are equal we increase the value of currentSequence counter
        if (array[i] == array[i + 1]) {
            
            currentSequence++;
        }
        // if neighbour elements are not equal we assign the value 1 to currentSequence
        // because this is the minimal value for a max sequence in an array
        else {
            currentSequence = 1;
        }
        if (currentSequence > maxSequence) {
            maxSequence = currentSequence;
            lastElementOfMaxSeq = array[i];
        }
    }
    
    document.write("Maximal sequence of equal elements is -> ");
    // if the length of the array is 1 
    // we print the only element of the array
    if (array.length == 1) {
        document.write(array[0]);
    }
    // if the length of the array is > 1
    // we print the value of bestElement maxSequence times
    else {        
        for (var i = 0; i < maxSequence; i++) {
            document.write(" " + lastElementOfMaxSeq);
        }
    }
</script>